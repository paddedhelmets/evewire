{"id":"ev-034","title":"Gap Analysis: Doctrines, Fittings, and Shopping Lists","description":"# Gap Analysis: Doctrines, Fittings, and Shopping Lists\n\n## What Exists\n\n**Models** (`core/doctrines/models.py`):\n- `Fitting` - Ship fitting specifications with clustering metadata, tags, and activation status\n- `FittingEntry` - Individual module entries per slot (high/med/low/rig/subsystem)\n- `FittingMatch` - Cached match results linking character assets to fittings with match scores\n- `ShoppingList` - Shopping lists for fitting fulfillment with location targeting\n- `FittingManager` - Custom manager for filtering by ship type and active status\n\n**Services** (`core/doctrines/services.py`):\n- `AssetFitExtractor` - Extracts fitted ship configurations from MPTT asset tree\n- `FittingMatcher` - Matches assets against fitting specifications with scoring\n- `ShoppingListGenerator` - Generates buy lists for fitting fulfillment at locations\n- `LocationCapacity` - Calculates available space at locations/containers\n\n**Existing Integration**:\n- Models are imported in `core/models.py` via wildcard import\n- `AssetFitExtractor` is used in `fitted_ships` view to display fitted ships\n- Admin interface provides full CRUD for staff users\n\n## Critical Bugs Found\n\n**Service Import Error** (`core/doctrines/services.py`):\n- Line 228: `from core.fittings.models import Fitting` - incorrect module path\n- Line 301: `from core.fittings.models import AssetMatch` - incorrect module path (also wrong model name)\n- Should be: `from core.doctrines.models import Fitting, FittingMatch`\n\n## What's Missing\n\n**Views**: No fitting list/detail, shopping list management, or asset matching browser views\n\n**Templates**: No fitting-related templates exist\n\n**URLs**: No URL routes for fittings or shopping lists\n\n**User-Facing Features**: No way for regular users to view fittings via web UI\n\n## MVP Requirements\n\n1. **Fix Service Imports** (CRITICAL) - Update import statements in services.py\n2. **Fitting List/Detail Views** (HIGH) - Browse all fittings with filters and search\n3. **Shopping List Views** (MEDIUM) - Create/manage shopping lists with status tracking\n4. **Asset Matching Browser** (MEDIUM) - Show which ships match which fittings\n5. **URL Configuration** (HIGH) - Add routes for all fitting views\n\n**Estimated Effort**: 24-34 hours for MVP\n\n**Risk Factors**: Service import bugs may indicate untested code paths","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:04.455861323-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T15:39:51.429555819-08:00"}
{"id":"ev-0jb","title":"Digest: mol-refinery-patrol","description":"Patrol: merged ev-wbg, ev-ksd duplicate (already on main), both cherry-picked to main","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:47:45.671814693-08:00","updated_at":"2026-01-21T11:47:45.671814693-08:00","closed_at":"2026-01-21T11:47:45.671706389-08:00","close_reason":"Squashed from 11 wisps"}
{"id":"ev-0lt","title":"Digest: mol-witness-patrol","description":"Patrol 6: veldspar still coding (User model updated, migrations next). All clear.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:49:46.434749691-08:00","updated_at":"2026-01-21T11:49:46.434749691-08:00","closed_at":"2026-01-21T11:49:46.434665003-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-0t0","title":"ENH: Add location_name property to WalletTransaction","description":"Wallet transactions display raw location_id instead of human-readable location names in wallet_transactions.html line 67.\n\nExpected: Add location_name property that resolves station/system names similar to how other features handle location resolution.\n\nImpact: Poor UX - users see numeric IDs instead of meaningful station names.\n\nReference files:\n- core/character/models.py:472-512\n- templates/core/wallet_transactions.html:67","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:06.326420103-08:00","created_by":"evewire/polecats/scordite","updated_at":"2026-01-21T11:38:06.326420103-08:00"}
{"id":"ev-1am","title":"Merge: ev-zbm","description":"branch: polecat/omber/ev-zbm@mkoh4m2g\ntarget: main\nsource_issue: ev-zbm\nrig: evewire\nworker: omber\nagent_bead: ev-evewire-polecat-omber\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:29:42.910262822-08:00","created_by":"evewire/polecats/omber","updated_at":"2026-01-21T14:36:09.459702511-08:00","closed_at":"2026-01-21T14:36:09.459702511-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-1es","title":"Gap Analysis: SDE Import and Reference Data","description":"# Gap Analysis: SDE Import and Reference Data\n\n## Current State\n\n**import_sde** management command successfully imports core reference data from Fuzzwork's SQLite SDE dump (11 tables including invTypes, invGroups, mapSolarSystems, staStations, dgmTypeAttributes, etc.).\n\n## Critical Missing Data\n\n### Market Data (CRITICAL)\n- **ItemType.sell_price is NULL for all rows** - Asset valuation returns 0 ISK\n- **ItemType.base_price imported but unreliable** - NPC-seed prices only, not market values\n- No market price history\n- No regional prices\n\n### Industry Data (HIGH)\n- **invTypeMaterials not imported** - Cannot calculate manufacturing costs\n- **invBlueprintTypes not imported** - Cannot lookup what BPO builds what\n- **industryActivityMaterials not imported** - Cannot calculate research/invention costs\n- **industryActivityProducts not imported** - Cannot determine job outputs\n\n## Impact\n\n**Currently Blocked Features**:\n- Asset valuation by market price (returns 0 ISK)\n- Contract item value calculation (returns 0 ISK)\n- Manufacturing cost calculator\n- Build vs buy comparison\n- Blueprint lookup (what does this build?)\n- Invention cost calculator\n- Job profitability\n\n## Market Data Requirements\n\n**Fuzzwork Market Price API** (Recommended for MVP):\n- Endpoint: `https://www.fuzzwork.co.uk/api/typeprice.php?typeid={typeid}\u0026buysell=s`\n- Returns: sell median, buy max, volume data\n- Update Frequency: Daily (Jita market averages)\n- Rate Limits: 120 requests/minute\n\n## Industry Data Requirements\n\n**Critical SDE Tables**:\n- `invTypeMaterials` - Material requirements for manufacturing\n- `invBlueprintTypes` - Blueprint-product relationships\n- `industryActivityMaterials` - Activity-specific material requirements\n- `industryActivityProducts` - Activity outputs\n\n## Update Frequency Needs\n\n**SDE Static Data**: Quarterly (EVE expansions)\n- Item types, groups, categories, attributes\n- Solar systems, stations\n- Blueprint/Product relationships\n\n**Market Price Data**: Daily\n- Jita sell/buy prices\n- Regional market prices\n- Price history (trends)\n\n## Implementation Plan\n\n### Phase 1: Market Price Import (HIGH PRIORITY)\n- Create `import_prices` management command\n- Fetch from Fuzzwork price API in batches\n- Update ItemType.sell_price with median sell price\n- Track price freshness with price_updated field\n- **Estimated**: 2-3 hours\n\n### Phase 2: Industry Material Import (HIGH PRIORITY)\n- Add industry tables to import_sde REQUIRED_TABLES\n- Create models: TypeMaterial, BlueprintType, IndustryActivityMaterial\n- **Estimated**: 4-6 hours\n\n### Phase 3: Price History Tracking (MEDIUM PRIORITY)\n- Create ItemPriceHistory model\n- Use ESI market history endpoint\n- Store daily OHLCV data\n- **Estimated**: 3-4 hours","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:05.211218174-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T15:39:53.895316466-08:00"}
{"id":"ev-1i9","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:31:22.541457737-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:31:22.541457737-08:00"}
{"id":"ev-283","title":"Skills: Complete training time calculator implementation","description":"\nThe training time calculator function exists in  but has TODO placeholders:\n\n1.  - Returns hardcoded 1 for all skills\n2.  - Returns hardcoded ('intelligence', 'memory')\n\nThese need proper SDE lookup from  table:\n- Skill rank is stored in attribute ID 182 (skillRank)\n- Primary/secondary attributes are stored in attribute ID 161/162\n\n**Acceptance Criteria:**\n- [ ] Implement proper skill rank lookup from SDE TypeAttribute table\n- [ ] Implement proper skill primary/secondary attribute lookup from SDE\n- [ ] Remove TODO comments from skill_plans.py\n- [ ] Add tests for training time calculation with various skills\n","status":"open","priority":2,"issue_type":"feature","assignee":"evewire/polecats/plagioclase","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:00.617116497-08:00","created_by":"evewire/polecats/plagioclase","updated_at":"2026-01-21T11:38:00.617116497-08:00"}
{"id":"ev-2o5","title":"Gap Analysis: Assets, Contracts, and Industry features","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/pyroxeres","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:16.669039041-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T11:38:29.606675943-08:00","closed_at":"2026-01-21T11:38:29.606675943-08:00","close_reason":"Closed"}
{"id":"ev-2pb","title":"Digest: mol-witness-patrol","description":"Patrol 2: All clear. No polecats, no mail, refinery running, no MRs, no swarms, no timer gates.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:47:04.84333712-08:00","updated_at":"2026-01-21T11:47:04.84333712-08:00","closed_at":"2026-01-21T11:47:04.843257641-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-2vh","title":"Digest: mol-witness-patrol","description":"Patrol #2: 4 polecats active - plagioclase (Skills/Plans/UI), pyroxeres (Assets/Contracts/Industry), scordite (Wallet/Trade), veldspar (Auth/Char/Dashboard). All healthy.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:36:05.738711358-08:00","updated_at":"2026-01-21T11:36:05.738711358-08:00","closed_at":"2026-01-21T11:36:05.738616682-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-32i","title":"Gap Analysis: Auth, Character, and Dashboard features","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/veldspar","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:14.643057486-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T11:38:16.131743347-08:00","closed_at":"2026-01-21T11:38:16.131743347-08:00","close_reason":"Closed"}
{"id":"ev-36i","title":"Add Character Management (Add/Remove Characters)","description":"dispatched_by: evewire/crew/aura\n\n{\"description\": \"MVP requires ability to add/remove EVE characters via OAuth2. Current implementation is 1:1 user:character. Need:\\n\\n1. Character management view showing all linked characters\\n2. \\\"Add Character\\\" button that initiates new OAuth flow\\n3. \\\"Remove Character\\\" functionality with confirmation\\n4. Update User model to support multiple Characters (remove 1:1 constraint)\\n5. Update AuthService to handle adding new character to existing user\"}","status":"hooked","priority":1,"issue_type":"task","assignee":"evewire/polecats/veldspar","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:01.412516903-08:00","created_by":"evewire/polecats/veldspar","updated_at":"2026-01-21T11:47:14.543459692-08:00"}
{"id":"ev-3fa","title":"Digest: mol-witness-patrol","description":"Patrol 14: veldspar COOKED - character management complete (commit 26528bc). Waiting for POLECAT_DONE mail.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:56:07.620509854-08:00","updated_at":"2026-01-21T11:56:07.620509854-08:00","closed_at":"2026-01-21T11:56:07.620412423-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-3yq","title":"CRITICAL BUG: WalletTransaction missing type_name property causes template error","description":"The WalletTransaction model in core/character/models.py (lines 472-512) is missing a type_name property that is referenced in wallet_transactions.html template at line 63.\n\nThis will cause an AttributeError when viewing the wallet transactions page.\n\nExpected: Add a type_name property similar to MarketOrder.type_name (lines 556-563) that queries ItemType model.\n\nReference files:\n- core/character/models.py:472-512\n- templates/core/wallet_transactions.html:63","status":"closed","priority":1,"issue_type":"bug","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:54.993194175-08:00","created_by":"evewire/polecats/scordite","updated_at":"2026-01-21T11:40:48.634797988-08:00","closed_at":"2026-01-21T11:40:48.634797988-08:00","close_reason":"Closed"}
{"id":"ev-45a","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ/git mismatch - MQ branches not pushed, git branches not submitted","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T14:09:11.355223865-08:00","updated_at":"2026-01-21T14:09:11.355223865-08:00","closed_at":"2026-01-21T14:09:11.35513341-08:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"ev-45a","depends_on_id":"ev-wisp-hop","type":"parent-child","created_at":"2026-01-21T14:09:11.356337229-08:00","created_by":"evewire/refinery"}]}
{"id":"ev-4h5","title":"Add asset value aggregation by item type","description":"Create assets_by_value view showing assets aggregated by item type with: item name, total quantity across all locations, total estimated value, and percentage of total asset value.\n\nRoute: /assets/by-value/\n\nShould include:\n- Sortable by value or quantity\n- Link to assets filtered by item type\n- Top items summary (top 10 by value)\n- Total asset value across all items\n\nUse ItemType.sell_price or ItemType.base_price for valuation","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/darkochre","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:36.919027381-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:36:10.026597011-08:00","closed_at":"2026-01-21T12:36:10.026597011-08:00","close_reason":"Closed","labels":["assets","enhancement","ui"]}
{"id":"ev-5gs","title":"Gap Analysis: Templates and frontend completeness","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/gneiss","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:02.467862205-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:10:38.873093062-08:00","closed_at":"2026-01-21T14:10:38.873093062-08:00","close_reason":"Closed"}
{"id":"ev-5m9","title":"Gap Analysis: Testing and Deployment readiness","description":"# Gap Analysis: Testing and Deployment Readiness\n\n## Overall Status\n\n**CRITICAL GAPS EXIST** - evewire has ZERO test coverage and MINIMAL deployment infrastructure.\n\n## Test Coverage: 0%\n\n**What Exists**: Single placeholder test file with only Django's default comment\n\n**What's Missing**: \n- No test framework (pytest, coverage, factory_boy)\n- No test fixtures or factories\n- No ESI mocking setup\n- No integration tests\n\n## Critical Areas Requiring Tests\n\n**ESI Client** (1400+ lines):\n- Token refresh logic with cache management\n- Rate limit handling and pagination\n- Error handling and retry logic\n\n**Authentication Flow**:\n- EVE SSO OAuth2 callback handling\n- Character addition to existing accounts\n- Token storage and encryption\n\n**Sync Functions** (9 endpoints):\n- Wallet journal with fromID walking\n- Market orders state transitions\n- Industry jobs stale handling\n- Contracts with item syncing\n\n**Model Methods**:\n- Slot utilization calculations\n- Asset hierarchy (MPTT tree)\n- Blueprint BPO/BPC detection\n\n## Deployment Infrastructure: Partial\n\n**What Exists**: WSGI/ASGI entry points, python-decouple config, .env.example, production security settings (conditional on DEBUG=False)\n\n**What's Missing**:\n\n### CRITICAL - Cannot Deploy Without\n- No gunicorn in requirements.txt or configuration\n- No systemd service file or supervisor config\n- No nginx configuration\n- No SSL/TLS setup\n- No PostgreSQL in requirements.txt\n- No database backup strategy\n- No static file collection automation\n\n### HIGH PRIORITY\n- No Docker/Dockerfile\n- No CI/CD pipeline (GitHub Actions, GitLab CI)\n- No secrets management strategy\n- No error tracking (Sentry)\n- No health check endpoint\n- No monitoring/metrics\n\n## Production Readiness Checklist\n\n### IMMEDIATE BLOCKERS\n- [ ] Test suite (ESI client, auth flow, sync functions)\n- [ ] Install and configure gunicorn\n- [ ] Create systemd service file\n- [ ] Generate secure SECRET_KEY\n- [ ] Configure ALLOWED_HOSTS\n- [ ] Set up SSL/TLS certificate\n- [ ] Add PostgreSQL to requirements\n- [ ] Create production database\n- [ ] Set up database backups\n\n### HIGH PRIORITY\n- [ ] nginx reverse proxy configuration\n- [ ] django-q2 cluster monitoring\n- [ ] Set up Sentry for error tracking\n- [ ] Configure health check endpoint\n\n### MEDIUM PRIORITY\n- [ ] CI/CD pipeline\n- [ ] Metrics collection\n- [ ] Log aggregation\n- [ ] Deployment runbook\n\n## Estimated Effort\n\n| Category | Effort | Priority |\n|----------|--------|----------|\n| Critical Tests (ESI, Auth, Sync) | 20-30 hours | P0 BLOCKING |\n| Production Server (gunicorn, systemd) | 4-6 hours | P0 BLOCKING |\n| Security (SSL, SECRET_KEY, DEBUG) | 4-6 hours | P0 BLOCKING |\n| Database (PostgreSQL, backups) | 6-8 hours | P0 BLOCKING |\n| nginx Configuration | 4-6 hours | P1 HIGH |\n| Error Tracking (Sentry) | 2-3 hours | P1 HIGH |\n| CI/CD Pipeline | 8-12 hours | P2 MEDIUM |\n| **TOTAL MINIMUM** | **58-72 hours** | **Before Production** |\n\n## Risk Assessment\n\n**HIGH RISK** - Unmitigated:\n1. Deploying untested ESI integration\n2. No monitoring - errors would go undetected\n3. No backups - data loss is permanent\n4. Weak SECRET_KEY - session hijacking risk\n5. DEBUG=True in production - information disclosure","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:06.540226166-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T15:39:55.054089265-08:00"}
{"id":"ev-62e","title":"Implement Asset Location Filtering on Dashboard","description":"MVP requires basic filtering (assets by location, orders by type). Current asset list shows flat hierarchy without location filtering.\n\nNeed:\n1. Add location filter to assets_list view (station/solar_system/structure)\n2. Add order type filter to market_orders view (buy/sell, active/expired)\n3. UI controls for selecting filters\n4. Preserve filter state in URL/query params for sharing","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:05.484973826-08:00","created_by":"evewire/polecats/veldspar","updated_at":"2026-01-21T11:39:34.645322034-08:00"}
{"id":"ev-6w4","title":"Digest: mol-witness-patrol","description":"Patrol 1: No active polecats, refinery running, no MRs pending, no swarms, no timer gates. Inbox clean.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:45:30.054751775-08:00","updated_at":"2026-01-21T11:45:30.054751775-08:00","closed_at":"2026-01-21T11:45:30.054671556-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-7s5","title":"Digest: mol-witness-patrol","description":"Patrol 13: veldspar pushing work (git redirect issue, not polecat fault).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:55:16.520888323-08:00","updated_at":"2026-01-21T11:55:16.520888323-08:00","closed_at":"2026-01-21T11:55:16.520804026-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-8na","title":"Add contract profitability analysis","description":"Add profitability indicator to contract_detail view for completed contracts. For item_exchange contracts, compare the contract price/reward to the estimated market value of items included.\n\nDisplay:\n- Total value of included items (using ItemType.sell_price)\n- Contract price paid\n- Profit/loss amount and percentage\n- Color coding (green for profit, red for loss)\n\nConsider adding to contracts_list:\n- Profitability column for completed contracts\n- Sort by profitability option","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/jaspet","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:47.634851763-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T14:12:28.291131338-08:00","closed_at":"2026-01-21T14:12:28.291131338-08:00","close_reason":"Closed","labels":["contracts","enhancement","ui"]}
{"id":"ev-8oc","title":"Merge: ev-8na","description":"branch: polecat/jaspet/ev-8na@mkokpfoi\ntarget: main\nsource_issue: ev-8na\nrig: evewire\nworker: jaspet\nagent_bead: ev-evewire-polecat-jaspet\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T14:12:26.924035592-08:00","created_by":"evewire/polecats/jaspet","updated_at":"2026-01-21T14:40:17.552231028-08:00","closed_at":"2026-01-21T14:40:17.552231028-08:00","close_reason":"Closed","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-8p0","title":"Merge: ev-nkb","description":"branch: polecat/gneiss/ev-nkb@mkoh6y2h\ntarget: main\nsource_issue: ev-nkb\nrig: evewire\nworker: gneiss\nagent_bead: ev-evewire-polecat-gneiss\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:33:33.53744115-08:00","created_by":"evewire/polecats/gneiss","updated_at":"2026-01-21T14:36:09.926795827-08:00","closed_at":"2026-01-21T14:36:09.926795827-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-8sw","title":"Merge: ev-akc","description":"branch: polecat/kernite/ev-akc@mkokp0l8\ntarget: main\nsource_issue: ev-akc\nrig: evewire\nworker: kernite\nagent_bead: ev-evewire-polecat-kernite\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T14:13:27.438684551-08:00","created_by":"evewire/polecats/kernite","updated_at":"2026-01-21T14:40:17.557475527-08:00","closed_at":"2026-01-21T14:40:17.557475527-08:00","close_reason":"Closed","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-8v3","title":"Merge: ev-ebb","description":"branch: polecat/hedbergite/ev-ebb@mkoh6fmq\ntarget: main\nsource_issue: ev-ebb\nrig: evewire\nworker: hedbergite\nagent_bead: ev-evewire-polecat-hedbergite\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:32:07.881825684-08:00","created_by":"evewire/polecats/hedbergite","updated_at":"2026-01-21T14:36:09.700834045-08:00","closed_at":"2026-01-21T14:36:09.700834045-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-901","title":"Digest: mol-witness-patrol","description":"Patrol 7: veldspar coding (oauth_callback updated, migrations next).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:50:23.635702573-08:00","updated_at":"2026-01-21T11:50:23.635702573-08:00","closed_at":"2026-01-21T11:50:23.63562058-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-9or","title":"Add CSV export functionality for assets and contracts","description":"Add CSV export capability for:\n1. Assets list - export filtered assets with location, quantity, value\n2. Contracts list - export filtered contracts with items, values\n3. Industry jobs - export jobs with dates, status, products\n\nAdd export buttons to relevant views that generate CSV responses with proper headers.\n\nURL pattern: /assets/export/, /contracts/export/, /industry/jobs/export/\n\nInclude django HttpResponse with CSV content-type and Content-Disposition header for file download.","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/crokite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:52.061941013-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:38:23.812588641-08:00","closed_at":"2026-01-21T12:38:23.812588641-08:00","close_reason":"Closed","labels":["enhancement","export"]}
{"id":"ev-akc","title":"Add blueprint library view","description":"Create blueprints_list view showing all blueprint assets (detected via is_blueprint() method) with: BPO vs BPC distinction, ME/TE levels (if available in SDE), location, and runs remaining for BPCs.\n\nRoute: /industry/blueprints/\n\nShould separate:\n- BPO (Blueprint Originals) - show location, estimated value\n- BPC (Blueprint Copies) - show runs remaining, location\n\nConsider adding:\n- Filter by ME/TE level\n- Search by blueprint name\n- Link to assets for full details","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/kernite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:16.261664306-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T14:13:28.718361522-08:00","closed_at":"2026-01-21T14:13:28.718361522-08:00","close_reason":"Closed","labels":["enhancement","industry","ui"]}
{"id":"ev-aon","title":"Gap Analysis: ESI Sync reliability and background tasks","description":"# Gap Analysis: ESI Sync Reliability and Background Tasks\n\n## Current Sync Approach\n\n**Request-driven, manual sync pattern** - All syncs require manual user trigger via web views. Tasks dispatch to django-q2 but execute synchronously within each worker.\n\n## Key Limitations\n\n1. **No automated periodic sync** - All syncs require manual user trigger\n2. **Sequential execution** - All sub-syncs run sequentially, blocking the worker\n3. **No granular retry** - If any single sub-sync fails, entire sync marked failed\n4. **Request timeouts** - Long-running syncs risk timeout\n\n## Reliability Concerns\n\n### Rate Limit Handling\n- **No proactive rate limit checking** - Only observes after requests\n- **No pre-sync throttling** - Doesn't check remaining headroom before starting\n- **No global rate limit coordination** - Each worker operates independently\n- **Minimal rate limit recovery** - No exponential backoff\n\n### Error Handling\n- **Coarse-grained error handling** - All exceptions caught at top level\n- **No retry mechanism** - Single ESI failure causes permanent sync failure\n- **No partial success handling** - If 9/10 endpoints succeed but 1 fails, entire sync marked failed\n\n### Data Consistency\n- **No transactional integrity** - Individual sub-syncs commit independently\n- **No rollback on failure** - Partial data updates persist if sync fails mid-flight\n- **Race conditions** - Multiple concurrent syncs could interleave\n\n## Background Task Requirements\n\n**Priority HIGH** - Individual endpoint syncs as independent async tasks:\n- Wallet journal/transactions (pagination takes significant time)\n- Assets (large lists + MPTT tree building)\n- Orders, industry jobs, contracts (multi-page fetch)\n\n**Priority MEDIUM** - Automated periodic syncs:\n- Skill queue updates (changes frequently)\n- Market orders status transitions\n- Active contracts status changes\n\n## django-q2 Integration Gaps\n\n**CRITICAL Issue**: Default 30-second timeout is **far too short** for ESI operations\n\n**Missing**:\n- Task priority system\n- Task scheduling for periodic updates\n- Task result monitoring\n- Shared rate limit state across workers\n- Exponential backoff on rate limits\n- Dead letter queue for failed tasks\n\n## Recommended Implementation Order\n\n1. **Phase 1 - Reliability Foundation** (CRITICAL)\n   - Increase django-q2 timeout to 300s minimum\n   - Implement per-endpoint async tasks\n   - Add proper rate limit handling with exponential backoff\n   - Add retry logic\n\n2. **Phase 2 - Operational Automation** (HIGH)\n   - Add transactional integrity with rollback\n   - Implement periodic sync scheduling\n   - Add monitoring and alerting\n\n3. **Phase 3 - Production Hardening** (MEDIUM)\n   - Add task priority system\n   - Implement dead letter queue\n   - Optimize pagination strategies","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:01.580332081-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T15:39:52.737187489-08:00"}
{"id":"ev-b4u","title":"Skill Plans: Add skill search by name autocomplete","description":"Currently users must know the exact Skill ID to add skills to a plan (skill_plan_detail.html line 106).\n\nThis is unfriendly - users should be able to search by skill name.\n\nAcceptance Criteria:\n- Add autocomplete search input for skill name in skill_plan_add_skill form\n- Show matching skills as user types (fetch ItemType data)\n- Display skill ID alongside name for confirmation\n- Allow selection with Enter or click","status":"open","priority":2,"issue_type":"feature","assignee":"evewire/polecats/plagioclase","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:11.050062782-08:00","created_by":"evewire/polecats/plagioclase","updated_at":"2026-01-21T11:38:11.050062782-08:00"}
{"id":"ev-bal","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, 10 polecat branches exist but not submitted","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T12:27:28.996343069-08:00","updated_at":"2026-01-21T12:27:28.996343069-08:00","closed_at":"2026-01-21T12:27:28.99620975-08:00","close_reason":"Squashed from 11 wisps","dependencies":[{"issue_id":"ev-bal","depends_on_id":"ev-wisp-b2v","type":"parent-child","created_at":"2026-01-21T12:27:28.997760901-08:00","created_by":"evewire/refinery"}]}
{"id":"ev-bo9","title":"Merge: ev-f26","description":"branch: polecat/hedbergite/ev-f26@mkokpv25\ntarget: main\nsource_issue: ev-f26\nrig: evewire\nworker: hedbergite\nagent_bead: ev-evewire-polecat-hedbergite\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T14:13:12.884192523-08:00","created_by":"evewire/polecats/hedbergite","updated_at":"2026-01-21T14:40:17.555863637-08:00","closed_at":"2026-01-21T14:40:17.555863637-08:00","close_reason":"Closed","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-by4","title":"Skills: Add skill category/group organization","description":"The skills_list.html view has search and level filtering but no organization by skill group/category.\n\nSkills in EVE are organized into groups like:\n- Spaceship Command (204)\n- Gunnery (255)\n- Engineering (1212)\n- Electronics (1213)\n- Mechanics (1219)\n- Trade (1230)\n- etc.\n\nAcceptance Criteria:\n- Add category filter dropdown to skills list\n- Group skills by category in display (collapsible sections)\n- Show category headers in skills list\n- Add category parameter to URL for direct linking","status":"open","priority":2,"issue_type":"feature","assignee":"evewire/polecats/plagioclase","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:15.431724959-08:00","created_by":"evewire/polecats/plagioclase","updated_at":"2026-01-21T11:38:15.431724959-08:00"}
{"id":"ev-chr","title":"Digest: mol-witness-patrol","description":"Patrol 3: 1 polecat active (veldspar on ev-36i). Refinery running, no MRs. No mail, no swarms, no timer gates.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:48:06.59955867-08:00","updated_at":"2026-01-21T11:48:06.59955867-08:00","closed_at":"2026-01-21T11:48:06.599465176-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-cji","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:31:22.60975256-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:31:22.60975256-08:00"}
{"id":"ev-d2i","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:31:22.677007511-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:31:22.677007511-08:00"}
{"id":"ev-d4a","title":"Digest: mol-witness-patrol","description":"Patrol 9: veldspar updating templates, migrations imminent.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:51:32.789944665-08:00","updated_at":"2026-01-21T11:51:32.789944665-08:00","closed_at":"2026-01-21T11:51:32.789838958-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-djm","title":"Merge: ev-4h5","description":"branch: polecat/darkochre/ev-4h5@mkoh7drt\ntarget: main\nsource_issue: ev-4h5\nrig: evewire\nworker: darkochre\nagent_bead: ev-evewire-polecat-darkochre\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:36:08.67837749-08:00","created_by":"evewire/polecats/darkochre","updated_at":"2026-01-21T14:36:10.370686735-08:00","closed_at":"2026-01-21T14:36:10.370686735-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-dnr","title":"Add industry jobs list view with filtering","description":"Create industry_jobs view that displays all industry jobs for a character with filtering by status (active, completed, cancelled) and activity (manufacturing, research, copying, invention). Template should show: job ID, activity name, product name, start/end dates, progress bar, status indicator.\n\nRoute: /industry/jobs/\n\nView should support:\n- Filtering by status (active, completed, cancelled, failed)\n- Filtering by activity type\n- Pagination for large job lists\n- Character ID parameter for multi-character support","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/kernite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:36:54.765380645-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:32:47.553003175-08:00","closed_at":"2026-01-21T12:32:47.553005549-08:00","labels":["high-priority","industry","ui"]}
{"id":"ev-dth","title":"Add industry job detail view","description":"Create industry_job_detail view showing full details of a single industry job including: blueprint info, product info, station/system location, start/end dates, progress bar with percentage, cost, runs, probability (for invention), and success status.\n\nRoute: /industry/jobs/\u003cint:job_id\u003e/\n\nTemplate should display:\n- Activity type and status prominently\n- Blueprint name with link to item info\n- Product name with link to item info (if applicable)\n- Progress bar with time remaining\n- Job cost and runs\n- Location (station name or system name)\n- Completion countdown","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/jaspet","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:02.319994966-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:33:37.408639342-08:00","closed_at":"2026-01-21T12:33:37.408639342-08:00","close_reason":"Closed","labels":["high-priority","industry","ui"]}
{"id":"ev-ebb","title":"BUG: Fix N+1 query problem in TradeAnalyzer","description":"dispatched_by: evewire/crew/aura\n\nThe TradeAnalyzer service in core/trade/services.py has N+1 query issues:\n- analyze_timeframe() at line 123: ItemType lookup happens in loop\n- analyze_campaign() at line 211: Same issue\n\nExpected: Use prefetch_related or select_related to fetch ItemTypes in bulk, or cache type lookups.\n\nImpact: Slow page loads for users with many transactions.\n\nReference files:\n- core/trade/services.py:123, 211","status":"closed","priority":2,"issue_type":"bug","assignee":"evewire/polecats/hedbergite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:57.676377336-08:00","created_by":"evewire/polecats/scordite","updated_at":"2026-01-21T12:31:18.617456019-08:00","closed_at":"2026-01-21T12:31:18.617456019-08:00","close_reason":"Closed"}
{"id":"ev-evewire-crew-aura","title":"Crew worker aura in evewire - human-managed persistent workspace.","description":"Crew worker aura in evewire - human-managed persistent workspace.\n\nrole_type: crew\nrig: evewire\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:36:33.151026146-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:36:33.151026146-08:00","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-crokite","title":"ev-evewire-polecat-crokite","description":"ev-evewire-polecat-crokite\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:29:24.98418108-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T12:39:21.529264781-08:00","closed_at":"2026-01-21T12:39:21.529264781-08:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-darkochre","title":"ev-evewire-polecat-darkochre","description":"ev-evewire-polecat-darkochre\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:29:04.512784221-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T12:36:10.830882574-08:00","closed_at":"2026-01-21T12:36:10.830882574-08:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-gneiss","title":"ev-evewire-polecat-gneiss","description":"ev-evewire-polecat-gneiss\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:28:44.210615695-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:11:30.211851525-08:00","closed_at":"2026-01-21T14:11:30.211851525-08:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-hedbergite","title":"ev-evewire-polecat-hedbergite","description":"ev-evewire-polecat-hedbergite\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:28:20.289381557-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:13:14.979621034-08:00","closed_at":"2026-01-21T14:13:14.979621034-08:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-hemorphite","title":"ev-evewire-polecat-hemorphite","description":"ev-evewire-polecat-hemorphite\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:27:52.600766505-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:09:31.35531133-08:00","closed_at":"2026-01-21T14:09:31.35531133-08:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-jaspet","title":"ev-evewire-polecat-jaspet","description":"ev-evewire-polecat-jaspet\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:27:33.045444066-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:12:29.12948577-08:00","closed_at":"2026-01-21T14:12:29.12948577-08:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-kernite","title":"ev-evewire-polecat-kernite","description":"ev-evewire-polecat-kernite\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","assignee":"evewire/refinery","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:27:14.101973546-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:13:29.478846904-08:00","closed_at":"2026-01-21T14:13:29.478846904-08:00","close_reason":"polecat removed","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-omber","title":"ev-evewire-polecat-omber","description":"ev-evewire-polecat-omber\n\nrole_type: polecat\nrig: evewire\nagent_state: closed\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"closed","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:26:55.239221883-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T14:14:22.72108976-08:00","closed_at":"2026-01-21T14:14:22.72108976-08:00","close_reason":"nuked","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-plagioclase","title":"ev-evewire-polecat-plagioclase","description":"ev-evewire-polecat-plagioclase\n\nrole_type: polecat\nrig: evewire\nagent_state: spawning\nhook_bead: ev-xak\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:35:18.30906895-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T12:26:41.277812136-08:00","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-pyroxeres","title":"ev-evewire-polecat-pyroxeres","description":"ev-evewire-polecat-pyroxeres\n\nrole_type: polecat\nrig: evewire\nagent_state: spawning\nhook_bead: ev-dth\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:59.723696626-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T12:26:38.562312895-08:00","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-scordite","title":"ev-evewire-polecat-scordite","description":"ev-evewire-polecat-scordite\n\nrole_type: polecat\nrig: evewire\nagent_state: spawning\nhook_bead: ev-dnr\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:41.418109778-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T12:26:36.005233837-08:00","labels":["gt:agent"]}
{"id":"ev-evewire-polecat-veldspar","title":"ev-evewire-polecat-veldspar","description":"ev-evewire-polecat-veldspar\n\nrole_type: polecat\nrig: evewire\nagent_state: spawning\nhook_bead: ev-zbm\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:23.315143626-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T12:26:33.597082945-08:00","labels":["gt:agent"]}
{"id":"ev-evewire-refinery","title":"Refinery for evewire - processes merge queue.","description":"Refinery for evewire - processes merge queue.\n\nrole_type: refinery\nrig: evewire\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:31:22.441899872-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:31:22.441899872-08:00","labels":["gt:agent"]}
{"id":"ev-evewire-witness","title":"Witness for evewire - monitors polecat health and progress.","description":"Witness for evewire - monitors polecat health and progress.\n\nrole_type: witness\nrig: evewire\nagent_state: idle\nhook_bead: null\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:31:22.283205982-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:31:22.283205982-08:00","labels":["gt:agent"]}
{"id":"ev-f26","title":"Implement Multi-Character Dashboard Aggregation","description":"The current dashboard only shows a single character. MVP requires multi-character aggregation - overview of all pilots with training status, wallet balances. Need to:\n\n1. Modify dashboard view to show ALL characters for the user\n2. Add aggregated stats (total wallet across all chars, total SP)\n3. Show skill queue status for each character\n4. Display character cards/list instead of single character view","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/hedbergite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:58.187304761-08:00","created_by":"evewire/polecats/veldspar","updated_at":"2026-01-21T14:13:14.202716878-08:00","closed_at":"2026-01-21T14:13:14.202716878-08:00","close_reason":"Closed"}
{"id":"ev-f5r","title":"Merge: ev-5gs","description":"branch: polecat/gneiss/ev-5gs@mkokqam4\ntarget: main\nsource_issue: ev-5gs\nrig: evewire\nworker: gneiss\nagent_bead: ev-evewire-polecat-gneiss\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T14:11:28.084317095-08:00","created_by":"evewire/polecats/gneiss","updated_at":"2026-01-21T14:36:10.816824392-08:00","closed_at":"2026-01-21T14:36:10.816824392-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-g44","title":"Skill Plans: Show training time estimates in UI","description":"The calculate_training_time function exists in core/skill_plans.py but is not used in any templates.\n\nTraining time estimates should be shown:\n1. In skill_plan_detail.html - show time remaining for each incomplete skill\n2. In skill_plan_detail.html - show total training time for the plan\n3. In skills_list.html - show training time to next level\n\nAcceptance Criteria:\n- Calculate and display training time for each skill entry in plan detail\n- Show total plan completion time estimate\n- Add training time column to skills list view\n- Handle edge cases (attributes not synced, unknown skills)","status":"open","priority":2,"issue_type":"feature","assignee":"evewire/polecats/plagioclase","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:06.090485255-08:00","created_by":"evewire/polecats/plagioclase","updated_at":"2026-01-21T11:38:06.090485255-08:00"}
{"id":"ev-gki","title":"Digest: mol-witness-patrol","description":"Patrol 5: veldspar actively coding (Character model changes). All clear otherwise.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:49:11.84809419-08:00","updated_at":"2026-01-21T11:49:11.84809419-08:00","closed_at":"2026-01-21T11:49:11.847993853-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-iiy","title":"Skill Plans: Visualize prerequisite dependencies","description":"Skill plans have prerequisite resolution logic (used in export) but no visual representation in the UI.\n\nUsers cannot see:\n1. Which skills have unmet prerequisites\n2. What the prerequisite chain looks like\n3. Which skills are trainable now vs blocked\n\nAcceptance Criteria:\n- Add visual indicator for skills with unmet prerequisites\n- Show prerequisite chain on hover/click\n- Option to filter/sort by trainable status\n- Consider tree visualization or nested list for prerequisites","status":"open","priority":3,"issue_type":"feature","assignee":"evewire/polecats/plagioclase","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:20.378491318-08:00","created_by":"evewire/polecats/plagioclase","updated_at":"2026-01-21T11:38:20.378491318-08:00"}
{"id":"ev-inf","title":"Gap Analysis: Skills, Plans, and UI/UX completeness","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/plagioclase","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:17.734827323-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T11:37:50.914455367-08:00","closed_at":"2026-01-21T11:37:50.914457501-08:00"}
{"id":"ev-jbr","title":"Digest: mol-witness-patrol","description":"Patrol 4: 1 polecat active (veldspar making progress on ev-36i). All clear otherwise.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:48:32.416269051-08:00","updated_at":"2026-01-21T11:48:32.416269051-08:00","closed_at":"2026-01-21T11:48:32.416147826-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-jf3","title":"Gap Analysis: Wallet, Market Orders, and Trade features","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/scordite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:34:15.739788935-08:00","created_by":"evewire/crew/aura","updated_at":"2026-01-21T11:38:22.946597579-08:00","closed_at":"2026-01-21T11:38:22.946597579-08:00","close_reason":"Closed"}
{"id":"ev-m9q","title":"Digest: mol-refinery-patrol","description":"Patrol: merged ev-1am (omber dashboard URLs/views)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T12:30:20.332307969-08:00","updated_at":"2026-01-21T12:30:20.332307969-08:00","closed_at":"2026-01-21T12:30:20.332155654-08:00","close_reason":"Squashed from 11 wisps"}
{"id":"ev-nkb","title":"Add filtering and search to assets list","description":"Add filtering capabilities to assets_list view including: search by item name, filter by location type (station/solar_system/structure), filter by item category, and show item count for each filter.\n\nUI should include:\n- Search input field (AJAX or form submission)\n- Location type dropdown filter\n- Item category dropdown (if SDE data available)\n- Display result count\n\nAdd query parameters for shareable filter URLs:\n?search=vexor\u0026location_type=station","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/gneiss","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:31.899051102-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:33:34.974585999-08:00","closed_at":"2026-01-21T12:33:34.974585999-08:00","close_reason":"Closed","labels":["assets","enhancement","ui"]}
{"id":"ev-ph7","title":"Digest: mol-refinery-patrol","description":"Patrol: queue empty, no work to process","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:16:17.834546445-08:00","updated_at":"2026-01-21T11:16:17.834546445-08:00","closed_at":"2026-01-21T11:16:17.834462177-08:00","close_reason":"Squashed from 11 wisps"}
{"id":"ev-pvc","title":"ENH: Add Trade link to dashboard navigation","description":"The Trade feature is fully implemented but not discoverable from the UI. Users cannot find the trade/campaigns pages without knowing the URL.\n\nDashboard (templates/core/dashboard.html) has buttons for Skills, Wallet, Assets, Market Orders but no Trade button.\n\nExpected: Add Trade button to dashboard that links to /trade/\n\nReference files:\n- templates/core/dashboard.html","status":"hooked","priority":1,"issue_type":"task","assignee":"evewire/polecats/omber","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:38:04.23365305-08:00","created_by":"evewire/polecats/scordite","updated_at":"2026-01-21T14:06:41.969458562-08:00"}
{"id":"ev-rig-evewire","title":"evewire","description":"Rig identity bead for evewire.\n\nrepo: https://github.com/paddedhelmets/evewire\nprefix: ev\nstate: active","status":"open","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T06:31:22.75718917-08:00","created_by":"Kazanir","updated_at":"2026-01-21T06:31:22.75718917-08:00","labels":["gt:rig"]}
{"id":"ev-s0j","title":"Digest: mol-witness-patrol","description":"Patrol 8: veldspar adding routes, migrations next. Active.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:51:04.827569527-08:00","updated_at":"2026-01-21T11:51:04.827569527-08:00","closed_at":"2026-01-21T11:51:04.827457608-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-tns","title":"Digest: mol-refinery-patrol","description":"Patrol: MQ empty, 7 polecat branches pending submission","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:36:08.239297512-08:00","updated_at":"2026-01-21T11:36:08.239297512-08:00","closed_at":"2026-01-21T11:36:08.239200942-08:00","close_reason":"Squashed from 11 wisps"}
{"id":"ev-txl","title":"Digest: mol-witness-patrol","description":"Patrol 10: veldspar creating migrations, near completion.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-21T11:52:00.118839366-08:00","updated_at":"2026-01-21T11:52:00.118839366-08:00","closed_at":"2026-01-21T11:52:00.118740232-08:00","close_reason":"Squashed from 10 wisps"}
{"id":"ev-wisp-4tx","title":"Merge and push to main","description":"Merge to main and push. CRITICAL: Notifications come IMMEDIATELY after push.\n\n**Step 1: Merge and Push**\n```bash\ngit checkout main\ngit merge --ff-only temp\ngit push origin main\n```\n\n **STOP HERE - DO NOT PROCEED UNTIL STEPS 2-3 COMPLETE**\n\n**Step 2: Send MERGED Notification (REQUIRED - DO THIS IMMEDIATELY)**\n\nRIGHT NOW, before any cleanup, send MERGED mail to Witness:\n\n```bash\ngt mail send \u003crig\u003e/witness -s \"MERGED \u003cpolecat-name\u003e\" -m \"Branch: \u003cbranch\u003e\nIssue: \u003cissue-id\u003e\nMerged-At: $(date -u +%Y-%m-%dT%H:%M:%SZ)\"\n```\n\nThis signals the Witness to nuke the polecat worktree. WITHOUT THIS NOTIFICATION,\nPOLECAT WORKTREES ACCUMULATE INDEFINITELY AND THE LIFECYCLE BREAKS.\n\n**Step 3: Close MR Bead (REQUIRED - DO THIS IMMEDIATELY)**\n\n **VERIFICATION BEFORE CLOSING**: Confirm the work is actually on main:\n```bash\n# Get the commit message/issue from the branch\ngit log origin/main --oneline | grep \"\u003cissue-id\u003e\"\n# OR verify the commit SHA is on main:\ngit branch --contains \u003ccommit-sha\u003e | grep main\n```\n\nIf work is NOT on main, DO NOT close the MR bead. Investigate first.\n\n```bash\nbd close \u003cmr-bead-id\u003e --reason \"Merged to main at $(git rev-parse --short HEAD)\"\n```\n\nThe MR bead ID was in the MERGE_READY message or find via:\n```bash\nbd list --type=merge-request --status=open | grep \u003cpolecat-name\u003e\n```\n\n**VALIDATION**: The MR bead's source_issue should be a valid bead ID (gt-xxxxx),\nnot a branch name. If source_issue contains a branch name, flag for investigation.\n\n**Step 4: Archive the MERGE_READY mail (REQUIRED)**\n```bash\ngt mail archive \u003cmerge-ready-message-id\u003e\n```\nThe message ID was tracked when you processed inbox-check.\n\n**Step 5: Cleanup (only after Steps 2-4 confirmed)**\n```bash\ngit branch -d temp\ngit push origin --delete \u003cpolecat-branch\u003e\n```\n\n**VERIFICATION GATE**: You CANNOT proceed to loop-check without:\n- [x] MERGED mail sent to witness\n- [x] MR bead closed\n- [x] MERGE_READY mail archived\n\nIf you skipped notifications or archiving, GO BACK AND DO THEM NOW.\n\nMain has moved. Any remaining branches need rebasing on new baseline.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.275097874-08:00","updated_at":"2026-01-21T14:37:09.275097925-08:00","dependencies":[{"issue_id":"ev-wisp-4tx","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.283136641-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-4tx","depends_on_id":"ev-wisp-ceq","type":"blocks","created_at":"2026-01-21T14:37:09.292919482-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-560","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T12:28:22.056583637-08:00","updated_at":"2026-01-21T12:28:22.056583707-08:00","dependencies":[{"issue_id":"ev-wisp-560","depends_on_id":"ev-wisp-78u","type":"parent-child","created_at":"2026-01-21T12:28:22.064397584-08:00","created_by":"evewire/refinery"},{"issue_id":"ev-wisp-560","depends_on_id":"ev-wisp-rg6","type":"blocks","created_at":"2026-01-21T12:28:22.077169442-08:00","created_by":"evewire/refinery"}],"ephemeral":true}
{"id":"ev-wisp-59d","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T12:28:22.05983076-08:00","updated_at":"2026-01-21T12:28:22.0598308-08:00","dependencies":[{"issue_id":"ev-wisp-59d","depends_on_id":"ev-wisp-78u","type":"parent-child","created_at":"2026-01-21T12:28:22.070358003-08:00","created_by":"evewire/refinery"}],"ephemeral":true}
{"id":"ev-wisp-78u","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n                                                        \n    MERGE_READY                                         \n   \u003e                           \n                                                        \n                       (verify branch)                   \n                              fetch \u0026 rebase            \n                             \u003e\n                                                        \n                       (run tests)                       \n                                                        \n                       (if pass)                         \n                              merge \u0026 push              \n                             \u003e\n                                                        \n    MERGED                                              \n   \u003c                           \n                                                        \n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-21T12:28:22.054621355-08:00","updated_at":"2026-01-21T12:28:22.054621445-08:00","ephemeral":true}
{"id":"ev-wisp-7gy","title":"Check own context limit","description":"Check own context usage.\n\nIf context is HIGH (\u003e80%):\n- Write handoff summary\n- Prepare for burn/respawn\n\nIf context is LOW:\n- Can continue processing","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T12:28:22.061215024-08:00","updated_at":"2026-01-21T12:28:22.061215074-08:00","dependencies":[{"issue_id":"ev-wisp-7gy","depends_on_id":"ev-wisp-78u","type":"parent-child","created_at":"2026-01-21T12:28:22.072532241-08:00","created_by":"evewire/refinery"}],"ephemeral":true}
{"id":"ev-wisp-7ys","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T12:28:22.05796174-08:00","updated_at":"2026-01-21T12:28:22.0579618-08:00","dependencies":[{"issue_id":"ev-wisp-7ys","depends_on_id":"ev-wisp-78u","type":"parent-child","created_at":"2026-01-21T12:28:22.066994555-08:00","created_by":"evewire/refinery"}],"ephemeral":true}
{"id":"ev-wisp-b2v","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n                                                        \n    MERGE_READY                                         \n   \u003e                           \n                                                        \n                       (verify branch)                   \n                              fetch \u0026 rebase            \n                             \u003e\n                                                        \n                       (run tests)                       \n                                                        \n                       (if pass)                         \n                              merge \u0026 push              \n                             \u003e\n                                                        \n    MERGED                                              \n   \u003c                           \n                                                        \n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"hooked","priority":2,"issue_type":"epic","assignee":"evewire/refinery","created_at":"2026-01-21T12:27:14.346137534-08:00","updated_at":"2026-01-21T12:28:22.25844194-08:00","ephemeral":true}
{"id":"ev-wisp-bjg","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n                                                        \n    MERGE_READY                                         \n   \u003e                           \n                                                        \n                       (verify branch)                   \n                              fetch \u0026 rebase            \n                             \u003e\n                                                        \n                       (run tests)                       \n                                                        \n                       (if pass)                         \n                              merge \u0026 push              \n                             \u003e\n                                                        \n    MERGED                                              \n   \u003c                           \n                                                        \n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-21T14:37:09.271923686-08:00","updated_at":"2026-01-21T14:37:09.271923727-08:00","ephemeral":true}
{"id":"ev-wisp-c6o","title":"Burn and respawn or loop","description":"End of patrol cycle decision.\n\n**Step 1: Estimate remaining context**\n\nAsk yourself:\n- Have I processed many branches this cycle?\n- Is the conversation getting long?\n- Am I starting to lose track of earlier context?\n\nRule of thumb: If you've done 3+ merges or processed significant cleanup work,\nit's time for a fresh session.\n\n**Step 2: Decision tree**\n\nIf queue non-empty AND context LOW:\n- Squash this wisp to digest\n- Spawn fresh patrol wisp\n- Return to inbox-check\n\nIf queue empty OR context HIGH OR good stopping point:\n- Squash wisp with summary digest\n- Use `gt handoff` for clean session transition:\n\n```bash\ngt handoff -s \"Patrol complete\" -m \"Merged X branches, Y tests passed.\nQueue: empty/N remaining\nNext: [any notes for successor]\"\n```\n\n**Why gt handoff?**\n- Sends handoff mail to yourself with context\n- Respawns with fresh Claude instance\n- SessionStart hook runs gt prime\n- Successor picks up from your hook\n\n**DO NOT just exit.** Always use `gt handoff` for proper lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.277590371-08:00","updated_at":"2026-01-21T14:37:09.277590422-08:00","dependencies":[{"issue_id":"ev-wisp-c6o","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.287919192-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-c9u","title":"Run test suite","description":"Run the test suite.\n\n```bash\ngo test ./...\n```\n\nTrack results: pass count, fail count, specific failures.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.274187143-08:00","updated_at":"2026-01-21T14:37:09.274187194-08:00","dependencies":[{"issue_id":"ev-wisp-c9u","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.281258659-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-c9u","depends_on_id":"ev-wisp-lyl","type":"blocks","created_at":"2026-01-21T14:37:09.290797122-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-ceq","title":"Handle test failures","description":"**VERIFICATION GATE**: This step enforces the Beads Promise.\n\nIf tests PASSED: This step auto-completes. Proceed to merge.\n\nIf tests FAILED:\n1. Diagnose: Is this a branch regression or pre-existing on main?\n2. If branch caused it:\n   - Abort merge\n   - Notify polecat: \"Tests failing. Please fix and resubmit.\"\n   - Skip to loop-check\n3. If pre-existing on main:\n   - Option A: Fix it yourself (you're the Engineer!)\n   - Option B: File a bead: bd create --type=bug --priority=1 --title=\"...\"\n\n**GATE REQUIREMENT**: You CANNOT proceed to merge-push without:\n- Tests passing, OR\n- Fix committed, OR\n- Bead filed for the failure\n\nThis is non-negotiable. Never disavow. Never \"note and proceed.\" ","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.274637797-08:00","updated_at":"2026-01-21T14:37:09.274637848-08:00","dependencies":[{"issue_id":"ev-wisp-ceq","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.282159069-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-ceq","depends_on_id":"ev-wisp-c9u","type":"blocks","created_at":"2026-01-21T14:37:09.291858536-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-hop","title":"mol-refinery-patrol","description":"Merge queue processor patrol loop.\n\nThe Refinery is the Engineer in the engine room. You process polecat branches, merging them to main one at a time with sequential rebasing.\n\n**The Scotty Test**: Before proceeding past any failure, ask yourself: \"Would Scotty walk past a warp core leak because it existed before his shift?\"\n\n## Merge Flow\n\nThe Refinery receives MERGE_READY mail from Witnesses when polecats complete work:\n\n```\nWitness                    Refinery                      Git\n                                                        \n    MERGE_READY                                         \n   \u003e                           \n                                                        \n                       (verify branch)                   \n                              fetch \u0026 rebase            \n                             \u003e\n                                                        \n                       (run tests)                       \n                                                        \n                       (if pass)                         \n                              merge \u0026 push              \n                             \u003e\n                                                        \n    MERGED                                              \n   \u003c                           \n                                                        \n```\n\nAfter successful merge, Refinery sends MERGED mail back to Witness so it can\ncomplete cleanup (nuke the polecat worktree).","status":"closed","priority":2,"issue_type":"epic","assignee":"evewire/refinery","created_at":"2026-01-21T14:08:13.103851712-08:00","updated_at":"2026-01-21T14:39:34.06064698-08:00","closed_at":"2026-01-21T14:39:34.060648944-08:00","ephemeral":true}
{"id":"ev-wisp-iry","title":"End-of-cycle inbox hygiene","description":"Verify inbox hygiene before ending patrol cycle.\n\n**Step 1: Check inbox state**\n```bash\ngt mail inbox\n```\n\nInbox should contain ONLY:\n- Unprocessed MERGE_READY messages (will process next cycle)\n- Active work items\n\n**Step 2: Archive any stale messages**\n\nLook for messages that were processed but not archived:\n- PATROL: Wake up that was acknowledged  archive\n- HELP/Blocked that was handled  archive\n- MERGE_READY where merge completed but archive was missed  archive\n\n```bash\n# For each stale message found:\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Step 3: Check for orphaned MR beads**\n\nLook for open MR beads with no corresponding branch:\n```bash\nbd list --type=merge-request --status=open\n```\n\nFor each open MR bead:\n1. Check if branch exists: `git ls-remote origin refs/heads/\u003cbranch\u003e`\n2. If branch gone, verify work is on main: `git log origin/main --oneline | grep \"\u003csource_issue\u003e\"`\n3. If work on main  close MR with reason \"Merged (verified on main)\"\n4. If work NOT on main  investigate before closing:\n   - Check source_issue validity (should be gt-xxxxx, not branch name)\n   - Search reflog/dangling commits if possible\n   - If unverifiable, close with reason \"Unverifiable - no audit trail\"\n   - File bead if this indicates lost work\n\n**NEVER close an MR bead without verifying the work landed or is unrecoverable.**\n\n**Goal**: Inbox should have 3 active messages at end of cycle.\nKeep only: pending MRs in queue.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T12:28:22.061776241-08:00","updated_at":"2026-01-21T12:28:22.061776312-08:00","dependencies":[{"issue_id":"ev-wisp-iry","depends_on_id":"ev-wisp-78u","type":"parent-child","created_at":"2026-01-21T12:28:22.074103324-08:00","created_by":"evewire/refinery"},{"issue_id":"ev-wisp-iry","depends_on_id":"ev-wisp-7gy","type":"blocks","created_at":"2026-01-21T12:28:22.090075271-08:00","created_by":"evewire/refinery"}],"ephemeral":true}
{"id":"ev-wisp-lew","title":"Scan merge queue","description":"Check the beads merge queue - this is the SOURCE OF TRUTH for pending merges.\n\n```bash\ngit fetch --prune origin\ngt mq list \u003crig\u003e\n```\n\nThe beads MQ tracks all pending merge requests. Do NOT rely on `git branch -r | grep polecat`\nas branches may exist without MR beads, or MR beads may exist for already-merged work.\n\nIf queue empty, skip to context-check step.\n\nFor each MR in the queue, verify the branch still exists:\n```bash\ngit branch -r | grep \u003cbranch\u003e\n```\n\nIf branch doesn't exist for a queued MR:\n- Close the MR bead: `bd close \u003cmr-id\u003e --reason \"Branch no longer exists\"`\n- Remove from processing queue\n\nTrack verified MR list for this cycle.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.273185186-08:00","updated_at":"2026-01-21T14:37:09.273185237-08:00","dependencies":[{"issue_id":"ev-wisp-lew","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.279447457-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-lew","depends_on_id":"ev-wisp-y9d","type":"blocks","created_at":"2026-01-21T14:37:09.28892066-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-lyl","title":"Mechanical rebase","description":"Pick next branch from queue. Attempt mechanical rebase on current main.\n\n**Step 1: Checkout and attempt rebase**\n```bash\ngit checkout -b temp origin/\u003cpolecat-branch\u003e\ngit rebase origin/main\n```\n\n**Step 2: Check rebase result**\n\nThe rebase exits with:\n- Exit code 0: Success - proceed to run-tests\n- Exit code 1 (conflicts): Conflict detected - proceed to Step 3\n\nTo detect conflict state after rebase fails:\n```bash\n# Check if we're in a conflicted rebase state\nls .git/rebase-merge 2\u003e/dev/null \u0026\u0026 echo \"CONFLICT_STATE\"\n```\n\n**Step 3: Handle conflicts (if any)**\n\nIf rebase SUCCEEDED (exit code 0):\n- Skip to run-tests step (continue normal merge flow)\n\nIf rebase FAILED with conflicts:\n\n1. **Abort the rebase** (DO NOT leave repo in conflicted state):\n```bash\ngit rebase --abort\n```\n\n2. **Record conflict metadata**:\n```bash\n# Capture main SHA for reference\nMAIN_SHA=$(git rev-parse origin/main)\nBRANCH_SHA=$(git rev-parse origin/\u003cpolecat-branch\u003e)\n```\n\n3. **Create conflict-resolution task**:\n```bash\nbd create --type=task --priority=1 --title=\"Resolve merge conflicts: \u003coriginal-issue-title\u003e\" --description=\"## Conflict Resolution Required\n\nOriginal MR: \u003cmr-bead-id\u003e\nBranch: \u003cpolecat-branch\u003e\nOriginal Issue: \u003cissue-id\u003e\nConflict with main at: ${MAIN_SHA}\nBranch SHA: ${BRANCH_SHA}\n\n## Instructions\n1. Clone/checkout the branch\n2. Rebase on current main: git rebase origin/main\n3. Resolve conflicts\n4. Force push: git push -f origin \u003cbranch\u003e\n5. Close this task when done\n\nThe MR will be re-queued for processing after conflicts are resolved.\"\n```\n\n4. **Skip this MR** (do NOT delete branch or close MR bead):\n- Leave branch intact for conflict resolution\n- Leave MR bead open (will be re-processed after resolution)\n- Continue to loop-check for next branch\n\n**CRITICAL**: Never delete a branch that has conflicts. The branch contains\nthe original work and must be preserved for conflict resolution.\n\nTrack: rebase result (success/conflict), conflict task ID if created.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.273651811-08:00","updated_at":"2026-01-21T14:37:09.273651882-08:00","dependencies":[{"issue_id":"ev-wisp-lyl","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.28035109-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-lyl","depends_on_id":"ev-wisp-lew","type":"blocks","created_at":"2026-01-21T14:37:09.289849207-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-m6c","title":"Generate handoff summary","description":"Summarize this patrol cycle.\n\n**VERIFICATION**: Before generating summary, confirm for each merged branch:\n- [ ] MERGED mail was sent to witness\n- [ ] MR bead was closed\n- [ ] MERGE_READY mail archived\n\nIf any notifications or archiving were missed, do them now!\n\nInclude in summary:\n- Branches merged (count, names)\n- MERGED mails sent (count - should match branches merged)\n- MR beads closed (count - should match branches merged)\n- MERGE_READY mails archived (count - should match branches merged)\n- Test results (pass/fail)\n- Branches with conflicts (count, names)\n- Conflict-resolution tasks created (IDs)\n- Issues filed (if any)\n- Any escalations sent\n\n**Conflict tracking is important** for monitoring MQ health. If many branches\nconflict, it may indicate main is moving too fast or branches are too stale.\n\nThis becomes the digest when the patrol is squashed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.276091865-08:00","updated_at":"2026-01-21T14:37:09.276091916-08:00","dependencies":[{"issue_id":"ev-wisp-m6c","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.285180553-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-m6c","depends_on_id":"ev-wisp-mne","type":"blocks","created_at":"2026-01-21T14:37:09.295105817-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-mne","title":"Check for more work","description":"More branches to process?\n\n**Entry paths:**\n- Normal: After successful merge-push\n- Conflict-skip: After process-branch created conflict-resolution task\n\nIf yes: Return to process-branch with next branch.\nIf no: Continue to generate-summary.\n\n**Track for this cycle:**\n- branches_merged: count and names of successfully merged branches\n- branches_conflict: count and names of branches skipped due to conflicts\n- conflict_tasks: IDs of conflict-resolution tasks created\n\nThis tracking feeds into generate-summary for the patrol digest.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.275674163-08:00","updated_at":"2026-01-21T14:37:09.275674214-08:00","dependencies":[{"issue_id":"ev-wisp-mne","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.284077743-08:00","created_by":"refinery"},{"issue_id":"ev-wisp-mne","depends_on_id":"ev-wisp-4tx","type":"blocks","created_at":"2026-01-21T14:37:09.294053479-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-wisp-rg6","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T12:28:22.055849046-08:00","updated_at":"2026-01-21T12:28:22.055849106-08:00","dependencies":[{"issue_id":"ev-wisp-rg6","depends_on_id":"ev-wisp-78u","type":"parent-child","created_at":"2026-01-21T12:28:22.063217381-08:00","created_by":"evewire/refinery"}],"ephemeral":true}
{"id":"ev-wisp-y9d","title":"Check refinery mail","description":"Check mail for MERGE_READY submissions, escalations, and messages.\n\n```bash\ngt mail inbox\n```\n\nFor each message:\n\n**MERGE_READY**:\nA polecat's work is ready for merge. Extract details and track for processing.\n\n```bash\n# Parse MERGE_READY message body:\n# Branch: \u003cbranch\u003e\n# Issue: \u003cissue-id\u003e\n# Polecat: \u003cpolecat-name\u003e\n# MR: \u003cmr-bead-id\u003e\n# Verified: clean git state, issue closed\n\n# Track in your merge queue for this patrol cycle:\n# - Branch name\n# - Issue ID\n# - Polecat name (REQUIRED for MERGED notification)\n# - MR bead ID (REQUIRED for closing after merge)\n```\n\n**IMPORTANT**: You MUST track the polecat name, MR bead ID, AND message ID - you will need them\nin merge-push step to send MERGED notification, close the MR bead, and archive the mail.\n\nMark as read. The work will be processed in queue-scan/process-branch.\n**Do NOT archive yet** - archive after merge/reject decision in merge-push step.\n\n**PATROL: Wake up**:\nWitness detected MRs waiting but refinery idle. Acknowledge and archive:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HELP / Blocked**:\nAssess and respond. If you can't help, escalate to Mayor.\nArchive after handling:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**HANDOFF**:\nRead predecessor context. Check for in-flight merges.\nArchive after absorbing context:\n```bash\ngt mail archive \u003cmessage-id\u003e\n```\n\n**Hygiene principle**: Archive messages after they're fully processed.\nKeep only: pending MRs in queue. Inbox should be near-empty.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-21T14:37:09.272738336-08:00","updated_at":"2026-01-21T14:37:09.272738387-08:00","dependencies":[{"issue_id":"ev-wisp-y9d","depends_on_id":"ev-wisp-bjg","type":"parent-child","created_at":"2026-01-21T14:37:09.278348664-08:00","created_by":"refinery"}],"ephemeral":true}
{"id":"ev-xak","title":"Add industry summary view with slot utilization","description":"Create industry_summary view showing: manufacturing slots (available/used/utilization %), research slots (available/used/utilization %), active jobs count by activity type, jobs completing soon (within 1 hour), and quick links to job list.\n\nRoute: /industry/\n\nShould use Character model methods:\n- manufacturing_slots, active_manufacturing_jobs, manufacturing_utilization\n- research_slots, active_research_jobs, research_utilization\n- is_manufacturing_nearly_full, is_research_nearly_full\n\nVisual indicators:\n- Color-coded utilization (green \u003c50%, yellow 50-80%, red \u003e80%)\n- 'Expiring Soon' section for jobs completing within 1 hour","status":"hooked","priority":2,"issue_type":"task","assignee":"evewire/polecats/hemorphite","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:07.842558946-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:28:07.659011014-08:00","labels":["high-priority","industry","ui"]}
{"id":"ev-y61","title":"Merge: ev-dth","description":"branch: polecat/jaspet/ev-dth@mkoh5f7d\ntarget: main\nsource_issue: ev-dth\nrig: evewire\nworker: jaspet\nagent_bead: ev-evewire-polecat-jaspet\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"closed","priority":2,"issue_type":"task","owner":"kazanir@gmail.com","created_at":"2026-01-21T12:33:36.012778065-08:00","created_by":"evewire/polecats/jaspet","updated_at":"2026-01-21T14:36:10.148185108-08:00","closed_at":"2026-01-21T14:36:10.148185108-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"],"ephemeral":true}
{"id":"ev-ybt","title":"Merge: ev-xak","description":"branch: polecat/hemorphite/ev-xak@mkoh5ua9\ntarget: main\nsource_issue: ev-xak\nrig: evewire\nworker: hemorphite","status":"closed","priority":2,"issue_type":"merge-request","owner":"kazanir@gmail.com","created_at":"2026-01-21T14:09:20.402775224-08:00","created_by":"evewire/witness","updated_at":"2026-01-21T14:36:10.592426705-08:00","closed_at":"2026-01-21T14:36:10.592426705-08:00","close_reason":"rejected: Branch does not exist - polecat was terminated before push","labels":["gt:merge-request"]}
{"id":"ev-zbm","title":"Add industry URL routes and navigation","description":"Add URL routes for industry views to core/urls/__init__.py:\n- /industry/ -\u003e industry_summary\n- /industry/jobs/ -\u003e industry_jobs_list\n- /industry/jobs/\u003cint:job_id\u003e/ -\u003e industry_job_detail\n- /character/\u003cint:character_id\u003e/industry/ -\u003e character_industry_summary\n- /character/\u003cint:character_id\u003e/industry/jobs/ -\u003e character_industry_jobs\n\nAlso add 'Industry' link to dashboard.html quick navigation","status":"closed","priority":2,"issue_type":"task","assignee":"evewire/polecats/omber","owner":"kazanir@gmail.com","created_at":"2026-01-21T11:37:12.066406757-08:00","created_by":"evewire/polecats/pyroxeres","updated_at":"2026-01-21T12:29:44.431707946-08:00","closed_at":"2026-01-21T12:29:44.431707946-08:00","close_reason":"Closed","labels":["industry","medium-priority","ui"]}
